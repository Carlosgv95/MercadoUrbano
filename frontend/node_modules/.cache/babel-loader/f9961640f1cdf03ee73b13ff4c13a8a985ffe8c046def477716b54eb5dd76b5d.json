{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Respa\\\\Downloads\\\\MercadoUrbano-main\\\\MercadoUrbano-main\\\\frontend\\\\src\\\\Pages\\\\Productos\\\\Productos.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useMemo, useContext } from 'react';\nimport { Container, Row, Col, Form, Nav } from 'react-bootstrap';\nimport products from \"../../Data/products\";\nimport { CartContext } from \"../../context/CartContext\";\n// Importamos los nuevos componentes\nimport ProductCard from '../../components/ProductCard/ProductCard';\nimport ProductModal from '../../components/ProductModal/ProductModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Productos = () => {\n  _s();\n  const [productos] = useState(products);\n  const [filtroMarca, setFiltroMarca] = useState('Todos');\n  const [orden, setOrden] = useState('default');\n  const [busqueda, setBusqueda] = useState('');\n\n  // Estado para el Modal\n  const [showModal, setShowModal] = useState(false);\n  const [selectedProduct, setSelectedProduct] = useState(null);\n  const {\n    addToCart\n  } = useContext(CartContext);\n  const handleOpenModal = prod => {\n    setSelectedProduct(prod);\n    setShowModal(true);\n  };\n  const productosFiltrados = useMemo(() => {\n    let res = [...productos];\n    if (filtroMarca !== 'Todos') res = res.filter(p => p.brand === filtroMarca);\n    if (busqueda.trim() !== '') {\n      res = res.filter(p => p.name.toLowerCase().includes(busqueda.toLowerCase()) || p.brand.toLowerCase().includes(busqueda.toLowerCase()));\n    }\n    // Lógica de ordenamiento simplificada\n    if (orden === 'precio-asc') res.sort((a, b) => a.price - b.price);else if (orden === 'precio-desc') res.sort((a, b) => b.price - a.price);else if (orden === 'alfa') res.sort((a, b) => a.name.localeCompare(b.name));\n    return res;\n  }, [productos, filtroMarca, orden, busqueda]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    fluid: true,\n    className: \"bg-light min-vh-100 py-4 px-lg-5\",\n    children: [/*#__PURE__*/_jsxDEV(Row, {\n      children: [/*#__PURE__*/_jsxDEV(Col, {\n        md: 3,\n        lg: 2,\n        className: \"mb-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white p-3 rounded shadow-sm\",\n          children: [/*#__PURE__*/_jsxDEV(\"h6\", {\n            className: \"fw-bold mb-3 border-bottom pb-2\",\n            children: \"FILTRAR\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 48,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Nav, {\n            className: \"flex-column mb-3\",\n            children: ['Todos', 'Kitchen', 'Tools', 'Outdoor'].map(category => /*#__PURE__*/_jsxDEV(Nav.Link, {\n              onClick: () => setFiltroMarca(category),\n              className: `py-1 px-0 small ${filtroMarca === category ? 'fw-bold text-primary' : 'text-muted'}`,\n              children: category\n            }, category, false, {\n              fileName: _jsxFileName,\n              lineNumber: 51,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Form.Control, {\n            type: \"text\",\n            placeholder: \"Buscar...\",\n            value: busqueda,\n            onChange: e => setBusqueda(e.target.value),\n            size: \"sm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 60,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 47,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Col, {\n        md: 9,\n        lg: 10,\n        children: /*#__PURE__*/_jsxDEV(Row, {\n          xs: 1,\n          sm: 2,\n          md: 2,\n          lg: 3,\n          xl: 4,\n          className: \"g-4\",\n          children: productosFiltrados.map(prod => /*#__PURE__*/_jsxDEV(Col, {\n            children: /*#__PURE__*/_jsxDEV(ProductCard, {\n              product: prod,\n              onOpenModal: handleOpenModal,\n              addToCart: addToCart\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 17\n            }, this)\n          }, prod.id, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 15\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductModal, {\n      show: showModal,\n      onHide: () => setShowModal(false),\n      product: selectedProduct,\n      addToCart: addToCart\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n};\n_s(Productos, \"phQcG+ywcZXd92ALN5wi+h2U6Rs=\");\n_c = Productos;\nexport default Productos;\nvar _c;\n$RefreshReg$(_c, \"Productos\");","map":{"version":3,"names":["React","useState","useMemo","useContext","Container","Row","Col","Form","Nav","products","CartContext","ProductCard","ProductModal","jsxDEV","_jsxDEV","Productos","_s","productos","filtroMarca","setFiltroMarca","orden","setOrden","busqueda","setBusqueda","showModal","setShowModal","selectedProduct","setSelectedProduct","addToCart","handleOpenModal","prod","productosFiltrados","res","filter","p","brand","trim","name","toLowerCase","includes","sort","a","b","price","localeCompare","fluid","className","children","md","lg","fileName","_jsxFileName","lineNumber","columnNumber","map","category","Link","onClick","Control","type","placeholder","value","onChange","e","target","size","xs","sm","xl","product","onOpenModal","id","show","onHide","_c","$RefreshReg$"],"sources":["C:/Users/Respa/Downloads/MercadoUrbano-main/MercadoUrbano-main/frontend/src/Pages/Productos/Productos.jsx"],"sourcesContent":["import React, { useState, useMemo, useContext } from 'react';\r\nimport { Container, Row, Col, Form, Nav } from 'react-bootstrap';\r\nimport products from \"../../Data/products\";\r\nimport { CartContext } from \"../../context/CartContext\";\r\n// Importamos los nuevos componentes\r\nimport ProductCard from '../../components/ProductCard/ProductCard';\r\nimport ProductModal from '../../components/ProductModal/ProductModal';\r\n\r\nconst Productos = () => {\r\n  const [productos] = useState(products);\r\n  const [filtroMarca, setFiltroMarca] = useState('Todos');\r\n  const [orden, setOrden] = useState('default');\r\n  const [busqueda, setBusqueda] = useState('');\r\n  \r\n  // Estado para el Modal\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [selectedProduct, setSelectedProduct] = useState(null);\r\n\r\n  const { addToCart } = useContext(CartContext);\r\n\r\n  const handleOpenModal = (prod) => {\r\n    setSelectedProduct(prod);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const productosFiltrados = useMemo(() => {\r\n    let res = [...productos];\r\n    if (filtroMarca !== 'Todos') res = res.filter(p => p.brand === filtroMarca);\r\n    if (busqueda.trim() !== '') {\r\n      res = res.filter(p => \r\n        p.name.toLowerCase().includes(busqueda.toLowerCase()) ||\r\n        p.brand.toLowerCase().includes(busqueda.toLowerCase())\r\n      );\r\n    }\r\n    // Lógica de ordenamiento simplificada\r\n    if (orden === 'precio-asc') res.sort((a, b) => a.price - b.price);\r\n    else if (orden === 'precio-desc') res.sort((a, b) => b.price - a.price);\r\n    else if (orden === 'alfa') res.sort((a, b) => a.name.localeCompare(b.name));\r\n    return res;\r\n  }, [productos, filtroMarca, orden, busqueda]);\r\n\r\n  return (\r\n    <Container fluid className=\"bg-light min-vh-100 py-4 px-lg-5\">\r\n      <Row>\r\n        {/* --- COLUMNA DE FILTROS --- */}\r\n        <Col md={3} lg={2} className=\"mb-4\">\r\n          <div className=\"bg-white p-3 rounded shadow-sm\">\r\n            <h6 className=\"fw-bold mb-3 border-bottom pb-2\">FILTRAR</h6>\r\n            <Nav className=\"flex-column mb-3\">\r\n              {['Todos', 'Kitchen', 'Tools', 'Outdoor'].map(category => (\r\n                <Nav.Link \r\n                  key={category}\r\n                  onClick={() => setFiltroMarca(category)}\r\n                  className={`py-1 px-0 small ${filtroMarca === category ? 'fw-bold text-primary' : 'text-muted'}`}\r\n                >\r\n                  {category}\r\n                </Nav.Link>\r\n              ))}\r\n            </Nav>\r\n            <Form.Control \r\n              type=\"text\" \r\n              placeholder=\"Buscar...\" \r\n              value={busqueda}\r\n              onChange={(e) => setBusqueda(e.target.value)}\r\n              size=\"sm\"\r\n            />\r\n          </div>\r\n        </Col>\r\n\r\n        {/* --- GRID DE PRODUCTOS --- */}\r\n        <Col md={9} lg={10}>\r\n          <Row xs={1} sm={2} md={2} lg={3} xl={4} className=\"g-4\">\r\n            {productosFiltrados.map((prod) => (\r\n              <Col key={prod.id}>\r\n                <ProductCard \r\n                  product={prod} \r\n                  onOpenModal={handleOpenModal} \r\n                  addToCart={addToCart} \r\n                />\r\n              </Col>\r\n            ))}\r\n          </Row>\r\n        </Col>\r\n      </Row>\r\n\r\n      {/* MODAL REUTILIZABLE */}\r\n      <ProductModal \r\n        show={showModal} \r\n        onHide={() => setShowModal(false)} \r\n        product={selectedProduct} \r\n        addToCart={addToCart} \r\n      />\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default Productos;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}